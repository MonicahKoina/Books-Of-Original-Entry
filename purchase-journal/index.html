<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Purchases Journal</title>
    <style>
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th,
      td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
      form {
        display: flex;
        flex-direction: column;
        gap: 10px;
        max-width: 400px;
      }
      label {
        font-weight: bold;
      }
      button {
        width: fit-content;
        padding: 5px 15px;
      }
    </style>
  </head>
  <body>
    <h2>Purchases Journal</h2>
    <!-- Purchases journal records purchases made on credit only -->
    <form id="form">
      <label for="folio">Folio</label>
      <input type="number" name="folio" id="folio" readonly />

      <label for="date">Purchase Date</label>
      <input type="date" name="date" id="date" required />
      <label for="name">Supplier</label>
      <input
        type="text"
        id="name"
        name="name"
        required
        placeholder="e.g David Chege"
      />
      <label for="details">Item Name</label>
      <input
        type="text"
        id="item"
        name="item"
        placeholder="e.g rice"
        required
      />
      <label for="details">Item Quantity</label>
      <input
        type="text"
        id="quantity"
        name="quantity"
        placeholder="e.g 10kg"
        required
      />

      <label for="amount">Enter Amount</label>
      <input
        type="number"
        name="amount"
        id="amount"
        placeholder="e.g 40000"
        required
      />

      <button type="submit">Save Purchase</button>
    </form>
    <div id="tableContainer"></div>
    <script>
      let form = document.getElementById("form");
      let folio = document.getElementById("folio");
      let date = document.getElementById("date");
      let Supplier = document.getElementById("name");
      let ItemName = document.getElementById("item");
      let ItemQuantity = document.getElementById("quantity");

      let amount = document.getElementById("amount");
      let tableContainer = document.getElementById("tableContainer");
      let table;
      let folioCounter = 1;
      function generateFolioCode(counter) {
        return "PL " + String(counter).padStart(3, "0");
      }
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (!table) {
          table = document.createElement("table");
          table.border = "1";
          let thead = document.createElement("thead");
          let headerRow = document.createElement("tr");
          [
            "Folio",
            "Date",
            "Supplier",
            "Item Name",
            "Quantity",
            "Amount",
          ].forEach((headerText) => {
            let th = document.createElement("th");
            th.textContent = headerText;
            headerRow.appendChild(th);
          });
          thead.appendChild(headerRow);
          table.appendChild(thead);
          let tbody = document.createElement("tbody");
          table.appendChild(tbody);
          tableContainer.appendChild(table);
        }
        const currentFolio = generateFolioCode(folioCounter++);
        folio.value = currentFolio;
        let row = document.createElement("tr");
        [
          currentFolio,
          date.value,
          Supplier.value,
          ItemName.value,
          ItemQuantity.value,
          amount.value,
        ].forEach((item) => {
          let td = document.createElement("td");
          td.textContent = item;
          row.appendChild(td);
        });

        table.querySelector("tbody").appendChild(row);

        form.reset();
      });
    </script>
  </body>
</html>
